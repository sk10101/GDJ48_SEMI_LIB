<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gdj.lib.dao.BrwBookDAO">
	

	<select id="detail" parameterType="hashmap" resultType="com.gdj.lib.dto.BookDTO">
		SELECT * FROM book WHERE b_id = #{b_id}
	</select>
	
	<!-- <insert id="brw" parameterType="hashmap">
	INSERT INTO borrow (mb_id ,b_id ,brw_date ,renew ,return_date ,brw_status)
	 VALUES (#{mb_id} ,#{b_id} ,CURRENT_TIMESTAMP ,false ,DATE_ADD(now(), interval +14 day) , "대출불가")
	</insert>
 -->
 
 	<!-- <insert id="brw" parameterType="String">
 		INSERT INTO reservation(mb_id,b_id)
 			VALUES(#{param1},#{param2})
 		
 	</insert> -->
 	
 	<insert id="brw" parameterType="String">
 		INSERT INTO reservation(mb_id,b_id)
 			VALUES(#{param1},#{param2})
 	</insert>
 	
 	<insert id="reason" parameterType="String">
 		INSERT INTO reservation(mb_id,b_id)
 			VALUES(#{param1},#{param2})
 	</insert>
 	
 	<select id="brwList" resultType="com.gdj.lib.dto.BookDTO">
		select brw_id, b.b_title, brw_date, return_date, brw_status, renew from borrow br, book b
			where b.b_id  = br.b_id
	</select>
	
	<!-- <select id="brwList" resultType="com.gdj.lib.dto.BookDTO">
		select * from member
	</select> -->
	
	<!-- <select id="brwList" resultType="com.gdj.lib.dto.BookDTO">
		SELECT * FROM member m2
		union all * FROM borrow b 
		union all * FROM book b2
	</select>  -->
	
	
 	<insert id="bookreserve" parameterType="String">
 		INSERT INTO reservation(mb_id,b_id)
 			VALUES(#{param1},#{param2})
 	</insert>
 	
	
	
</mapper>